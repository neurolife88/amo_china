# üè• –°–∏—Å—Ç–µ–º–∞ "–í—Å—Ç—Ä–µ—á–∞ –≥–æ—Å—Ç–µ–π" - –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π —Ç—É—Ä–∏–∑–º –≤ –ö–∏—Ç–∞–π

–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∫–∏—Ç–∞–π—Å–∫–∏—Ö –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö —É—á—Ä–µ–∂–¥–µ–Ω–∏–π, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö —Å –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–º–∏ –ø–∞—Ü–∏–µ–Ω—Ç–∞–º–∏. –°–∏—Å—Ç–µ–º–∞ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å AmoCRM —á–µ—Ä–µ–∑ n8n –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –æ –ø—Ä–∏–±—ã–≤–∞—é—â–∏—Ö –ø–∞—Ü–∏–µ–Ω—Ç–∞—Ö.

**–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:** CURSOR AI-powered IDE

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

**ü§ñ AI-powered —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –≤ CURSOR IDE**

–°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ç–æ–∫–∞–º–∏ –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã—Ö –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤ –≤ –∫–∏—Ç–∞–π—Å–∫–∏—Ö –∫–ª–∏–Ω–∏–∫–∞—Ö –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö. –†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º CURSOR IDE –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —á–µ—Ä–µ–∑ AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞.

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏:**
- **–í—Å—Ç—Ä–µ—á–∞ –≥–æ—Å—Ç–µ–π** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–∏–±—ã–≤–∞—é—â–∏—Ö –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤
- **–ü–∞—Ü–∏–µ–Ω—Ç—ã –Ω–∞ –ª–µ—á–µ–Ω–∏–∏** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–±—ã–≤–∞–Ω–∏–µ–º –≤ –∫–ª–∏–Ω–∏–∫–µ  
- **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—ä–µ–∑–¥–∞** - –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞—Ç–Ω–æ–≥–æ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–∞

### –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- ‚úÖ **Real-time —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** —Å AmoCRM
- ‚úÖ **–†–æ–ª–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç—É–ø–∞** (Super Admin / Director / Coordinator)
- ‚úÖ **–ú–Ω–æ–≥–æ–±–æ–ª—å–Ω–∏—á–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–ª–∏–Ω–∏–∫
- ‚úÖ **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - mobile-first –¥–∏–∑–∞–π–Ω
- ‚úÖ **–°–∏—Å—Ç–µ–º–∞ –∞—É–¥–∏—Ç–∞** - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ **Real-time —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### IDE & –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- **CURSOR** - AI-powered IDE —Å GitHub Copilot –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π
- **AI Assistance** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –∫–æ–¥–∞ –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
- **.cursorrules** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞

### Frontend
- **React 18** + **TypeScript** - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **Vite** - —Å–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∫–∏
- **Tailwind CSS** - —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è
- **shadcn/ui** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- **Radix UI** - –ø—Ä–∏–º–∏—Ç–∏–≤—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### Backend & Database
- **Supabase** - PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö + Authentication
- **Row Level Security (RLS)** - –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î
- **Real-time subscriptions** - WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- **n8n** - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É AmoCRM –∏ Supabase
- **AmoCRM** - –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö –æ –ø–∞—Ü–∏–µ–Ω—Ç–∞—Ö –∏ —Å–¥–µ–ª–∫–∞—Ö
- **Supabase Edge Functions** - —Å–µ—Ä–≤–µ—Ä–Ω–∞—è –ª–æ–≥–∏–∫–∞

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö
```

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
AmoCRM ‚Üí n8n ‚Üí Supabase ‚Üí –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
   ‚Üë                           ‚Üì
   ‚Üê ‚Üê ‚Üê ‚Üê ‚Üê ‚Üê ‚Üê ‚Üê ‚Üê ‚Üê ‚Üê ‚Üê ‚Üê ‚Üê ‚Üê
```

**–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:**
- **AmoCRM ‚Üí n8n ‚Üí Supabase** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –Ω–æ–≤—ã—Ö —Å–¥–µ–ª–æ–∫, –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤, –±–∏–ª–µ—Ç–æ–≤
- **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Üí Supabase** - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–µ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–∞–º–∏  
- **Supabase ‚Üí n8n ‚Üí AmoCRM** - –æ–±—Ä–∞—Ç–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)

### –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —Å—Ö–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö
–í—Å–µ –¥–∞–Ω–Ω—ã–µ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω—ã –≤–æ–∫—Ä—É–≥ **—Å–¥–µ–ª–∫–∏ (deal)** - –∫–∞–∂–¥–∞—è —Å–¥–µ–ª–∫–∞ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç:

```
–°–¥–µ–ª–∫–∞ (Deal)
‚îú‚îÄ‚îÄ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–∞—Ü–∏–µ–Ω—Ç–∞ (contacts)
‚îú‚îÄ‚îÄ –í–∏–∑–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (visas) 
‚îú‚îÄ‚îÄ –ë–∏–ª–µ—Ç—ã –ø—Ä–∏–±—ã—Ç–∏—è –≤ –ö–∏—Ç–∞–π (tickets_to_china)
‚îú‚îÄ‚îÄ –ë–∏–ª–µ—Ç—ã –æ—Ç—ä–µ–∑–¥–∞ –∏–∑ –ª–µ—á–µ–Ω–∏—è (tickets_from_treatment)
‚îî‚îÄ‚îÄ –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –∫–ª–∏–Ω–∏–∫–µ (clinics_directory)
```

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã

#### 1. **–ö–æ–Ω—Ç–∞–∫—Ç—ã** (`contacts`)
–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤
- –§–ò–û, —Ç–µ–ª–µ—Ñ–æ–Ω, email
- –ü–∞—Å–ø–æ—Ä—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –°—Ç—Ä–∞–Ω–∞ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏—è

#### 2. **–°–¥–µ–ª–∫–∏** (`deals`) 
–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- –ù–∞–∑–≤–∞–Ω–∏–µ —Å–¥–µ–ª–∫–∏
- –°—Ç–∞—Ç—É—Å –∏ –≤–æ—Ä–æ–Ω–∫–∞ –ø—Ä–æ–¥–∞–∂
- –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –∫–ª–∏–Ω–∏–∫–µ
- –°—Ç—Ä–∞–Ω–∞ –∏ –≥–æ—Ä–æ–¥ –≤–∏–∑—ã

#### 3. **–í–∏–∑—ã** (`visas`)
–î–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç –≤–∏–∑
- –ù–æ–º–µ—Ä –∏ —Ç–∏–ø –≤–∏–∑—ã
- –°—Ä–æ–∫–∏ –ø—Ä–µ–±—ã–≤–∞–Ω–∏—è
- –°—Ç–∞—Ç—É—Å –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è

#### 4. **–ë–∏–ª–µ—Ç—ã –≤ –ö–∏—Ç–∞–π** (`tickets_to_china`)
–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–∏–±—ã—Ç–∏–∏
- –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –ø—Ä–∏–ª–µ—Ç–∞
- –ù–æ–º–µ—Ä —Ä–µ–π—Å–∞, —Ç–µ—Ä–º–∏–Ω–∞–ª
- –¢–∏–ø —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤

#### 5. **–ë–∏–ª–µ—Ç—ã –∏–∑ –ª–µ—á–µ–Ω–∏—è** (`tickets_from_treatment`)
–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—ä–µ–∑–¥–∞
- –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –ì–æ—Ä–æ–¥ –∏ —Å–ø–æ—Å–æ–± –æ—Ç—ä–µ–∑–¥–∞
- –ù–æ–º–µ—Ä –æ–±—Ä–∞—Ç–Ω–æ–≥–æ —Ä–µ–π—Å–∞

## üë• –†–æ–ª–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞

### üî¥ Super Admin
- –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º —Å–∏—Å—Ç–µ–º—ã
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∞—É–¥–∏—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏–π –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### üü† Director
- –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö –ø–æ –≤—Å–µ–º –±–æ–ª—å–Ω–∏—Ü–∞–º
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã –ø–æ –≤—Å–µ–π —Å–µ—Ç–∏ –∫–ª–∏–Ω–∏–∫
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–ª—é—á–µ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–∞–º–∏

### üü° Coordinator  
- –†–∞–±–æ—Ç–∞ —Ç–æ–ª—å–∫–æ —Å–æ —Å–≤–æ–µ–π –∫–ª–∏–Ω–∏–∫–æ–π
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤
- –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –∏ –æ—Ç—ä–µ–∑–¥–∞
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –≤—Å—Ç—Ä–µ—á–∏

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

### –ú–æ–¥—É–ª—å "–í—Å—Ç—Ä–µ—á–∞ –≥–æ—Å—Ç–µ–π"
**–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:** AmoCRM ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

**–§—É–Ω–∫—Ü–∏–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–∞:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –ø—Ä–∏–±—ã–≤–∞—é—â–∏—Ö –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –¥–∞—Ç–µ –∏ —Å—Ç–∞—Ç—É—Å—É –ø—Ä–∏–±—ã—Ç–∏—è
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤—Å—Ç—Ä–µ—á–∏ (–ø—Ä–∏–±—ã–ª ‚Üí –≤—Å—Ç—Ä–µ—á–µ–Ω)
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–º–µ—Ä–∞ –∫–æ–º–Ω–∞—Ç—ã

### –ú–æ–¥—É–ª—å "–ü–∞—Ü–∏–µ–Ω—Ç—ã –Ω–∞ –ª–µ—á–µ–Ω–∏–∏" 
**–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:** AmoCRM + —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

**–§—É–Ω–∫—Ü–∏–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–∞:**
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ–º –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤
- –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã –æ—Ç—ä–µ–∑–¥–∞
- –ö–æ–Ω—Ç—Ä–æ–ª—å —Å—Ä–æ–∫–æ–≤ –≤–∏–∑—ã (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞–ª–µ—Ä—Ç—ã)
- –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞—Ç–Ω—ã—Ö –±–∏–ª–µ—Ç–æ–≤

### Dashboard –¥–ª—è Director/Super Admin
**–§—É–Ω–∫—Ü–∏–∏:**
- –°–≤–æ–¥–∫–∞ –ø–æ –≤—Å–µ–º –±–æ–ª—å–Ω–∏—Ü–∞–º
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—Å—Ç—Ä–µ—á –∏ —Ä–∞–∑–º–µ—â–µ–Ω–∏–π
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ä–æ—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ (–∏—Å—Ç–µ–∫–∞—é—â–∏–µ –≤–∏–∑—ã)
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ—Å—Ç–∏ –∫–ª–∏–Ω–∏–∫

## üíª –°–ø–æ—Å–æ–±—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞

### –û—Å–Ω–æ–≤–Ω–æ–π —Å–ø–æ—Å–æ–± - CURSOR IDE (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**CURSOR** - —ç—Ç–æ AI-powered IDE, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:

- –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: `git clone https://github.com/neurolife88/amo_china.git`
- –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ CURSOR IDE
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `.cursorrules` –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞
- –ü—Ä–∏–º–µ–Ω—è–π—Ç–µ AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–æ–¥–∞

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã

**–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –Ω–∞–ø—Ä—è–º—É—é –≤ GitHub:**
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –∫ –Ω—É–∂–Ω–æ–º—É —Ñ–∞–π–ª—É
- –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Edit" (–∏–∫–æ–Ω–∫–∞ –∫–∞—Ä–∞–Ω–¥–∞—à–∞) –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
- –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –∑–∞–∫–æ–º–º–∏—Ç—å—Ç–µ

**GitHub Codespaces:**
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Code" (–∑–µ–ª–µ–Ω–∞—è –∫–Ω–æ–ø–∫–∞) –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
- –í—ã–±–µ—Ä–∏—Ç–µ –≤–∫–ª–∞–¥–∫—É "Codespaces"
- –ù–∞–∂–º–∏—Ç–µ "New codespace" –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å—Ä–µ–¥—ã
- –†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –ø—Ä—è–º–æ –≤ Codespace

**–î—Ä—É–≥–∏–µ IDE (VS Code, WebStorm –∏ —Ç.–¥.):**
```bash
# –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è: Node.js v22.15.0
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å –ø–æ–º–æ—â—å—é nvm: https://github.com/nvm-sh/nvm
git clone https://github.com/neurolife88/amo_china.git
cd amo_china
npm i
npm run dev
```

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- **Node.js v22.15.0** (–ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ)
- **Git** –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–º
- **SSH –¥–æ—Å—Ç—É–ø** –∫ —Å–µ—Ä–≤–µ—Ä—É Beget.ru

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**
```bash
git clone https://github.com/neurolife88/amo_china.git
cd amo_china
```

2. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
```bash
npm i
```

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
```bash
cp .env.example .env.local
# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ Supabase –≤ .env.local
```

4. **–ó–∞–ø—É—Å–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**
```bash
npm run dev
```

### –ü—Ä–æ–¥–∞–∫—à–Ω —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

**–•–æ—Å—Ç–∏–Ω–≥:** [Beget.ru](https://beget.ru)  
**–î–æ–º–µ–Ω:** [https://88.n8ndcpchina.ru](https://88.n8ndcpchina.ru)  
**SSH –¥–æ—Å—Ç—É–ø:** `cdmaseoy@cdmaseoy.beget.tech`

**–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Git:**
```bash
# –ö–æ–º–º–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ CURSOR
git add .
git commit -m "Update production build"
git push origin main

# SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Beget
ssh cdmaseoy@cdmaseoy.beget.tech

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞
cd /path/to/your/project
git pull origin main

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ —Å–±–æ—Ä–∫–∞ (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
npm install
npm run build

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PM2)
pm2 restart your-app-name
```

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ webhook:**
```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ webhook –Ω–∞ Beget –¥–ª—è –∞–≤—Ç–æ–¥–µ–ø–ª–æ—è
# –ü—Ä–∏ push –≤ main –≤–µ—Ç–∫—É ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
```

### –î–æ–º–µ–Ω –∏ SSL

**–î–æ–º–µ–Ω:** [https://88.n8ndcpchina.ru](https://88.n8ndcpchina.ru) ‚úÖ **–ù–∞—Å—Ç—Ä–æ–µ–Ω**

–î–æ–º–µ–Ω –ø–æ–¥–∫–ª—é—á–µ–Ω —á–µ—Ä–µ–∑ **Beget.ru** —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º.

**DNS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
- A-–∑–∞–ø–∏—Å—å —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ IP —Å–µ—Ä–≤–µ—Ä–∞ Beget  
- SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ HTTP/2 –≤–∫–ª—é—á–µ–Ω–∞

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ Beget:**
```nginx
# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx (—É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è Beget)
server {
    listen 443 ssl http2;
    server_name 88.n8ndcpchina.ru;
    
    # SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç Beget)
    ssl_certificate /path/to/ssl/cert;
    ssl_certificate_key /path/to/ssl/key;
    
    # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    location / {
        root /path/to/build;
        try_files $uri $uri/ /index.html;
    }
    
    # API –ø—Ä–æ–∫—Å–∏ –∫ Supabase (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
    location /api/ {
        proxy_pass https://your-supabase-url;
        proxy_set_header Host $host;
    }
}
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```env
# Supabase
VITE_SUPABASE_URL=your_supabase_project_url
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key

# n8n –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
N8N_WEBHOOK_URL=your_n8n_webhook_endpoint
N8N_API_KEY=your_n8n_api_key

# –ü—Ä–æ–¥–∞–∫—à–Ω –¥–æ–º–µ–Ω (Beget.ru)
VITE_APP_URL=https://88.n8ndcpchina.ru
VITE_ENVIRONMENT=production

# AmoCRM (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ n8n)
# AMOCRM_SUBDOMAIN=your_amocrm_subdomain
# AMOCRM_CLIENT_ID=your_client_id  
# AMOCRM_CLIENT_SECRET=your_client_secret
```

### Beget.ru –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
```
/domains/88.n8ndcpchina.ru/
‚îú‚îÄ‚îÄ public_html/          # –°–æ–±—Ä–∞–Ω–Ω–æ–µ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (npm run build)
‚îú‚îÄ‚îÄ .git/                 # Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ node_modules/         # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
‚îî‚îÄ‚îÄ package.json          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
```

**–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:**
```bash
# –õ–æ–∫–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º
npm run build

# –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º —á–µ—Ä–µ–∑ SSH
rsync -avz --delete dist/ cdmaseoy@cdmaseoy.beget.tech:/domains/88.n8ndcpchina.ru/public_html/
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö Supabase

–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- **Row Level Security (RLS)** - –≤–∫–ª—é—á–µ–Ω –¥–ª—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü
- **Real-time** - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- **Authentication** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ —á–µ—Ä–µ–∑ Supabase Auth

### n8n Workflows

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:

1. **AmoCRM ‚Üí Supabase** (–æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫):
   - Webhook –æ—Ç AmoCRM –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–¥–µ–ª–æ–∫
   - –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–æ—Ä–º–∞—Ç Supabase
   - –í—Å—Ç–∞–≤–∫–∞/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –≤ –ë–î

2. **Supabase ‚Üí AmoCRM** (–æ–±—Ä–∞—Ç–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è):
   - Trigger –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö
   - –û—Ç–ø—Ä–∞–≤–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —Å—Ç–∞—Ç—É—Å–æ–≤ –æ–±—Ä–∞—Ç–Ω–æ –≤ AmoCRM
   - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**:
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π retry –Ω–µ—É–¥–∞—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ components/           # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ ui/              # –ë–∞–∑–æ–≤—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (shadcn/ui)
‚îÇ   ‚îú‚îÄ‚îÄ layout/          # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–∞–∫–µ—Ç–∞ (Header, Sidebar)
‚îÇ   ‚îú‚îÄ‚îÄ patients/        # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–∞—Ü–∏–µ–Ω—Ç–∞–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ dashboard/       # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚îú‚îÄ‚îÄ hooks/               # React —Ö—É–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ useAuth.ts       # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ useSupabase.ts   # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ usePermissions.ts # –†–æ–ª–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
‚îú‚îÄ‚îÄ lib/                 # –£—Ç–∏–ª–∏—Ç—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ supabase.ts      # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase –∫–ª–∏–µ–Ω—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ utils.ts         # –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ n8n.ts           # n8n –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ webhooks
‚îú‚îÄ‚îÄ pages/               # –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ Dashboard.tsx    # –ì–ª–∞–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ MeetingGuests.tsx # –í—Å—Ç—Ä–µ—á–∞ –≥–æ—Å—Ç–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ PatientsInTreatment.tsx # –ü–∞—Ü–∏–µ–Ω—Ç—ã –Ω–∞ –ª–µ—á–µ–Ω–∏–∏
‚îî‚îÄ‚îÄ types/               # TypeScript —Ç–∏–ø—ã
    ‚îú‚îÄ‚îÄ database.types.ts # –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã –ë–î
    ‚îî‚îÄ‚îÄ app.types.ts     # –¢–∏–ø—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### CURSOR –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```
.cursorrules             # –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è CURSOR AI
src/.cursorrules         # –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è src/
```

**.cursorrules** —Å–æ–¥–µ—Ä–∂–∏—Ç:
- –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞ (–º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π —Ç—É—Ä–∏–∑–º)
- –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫ (React + Supabase)  
- –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∫–æ–¥–∞ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- –°–ø–µ—Ü–∏—Ñ–∏–∫—É –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å AmoCRM —á–µ—Ä–µ–∑ n8n
```

## üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ n8n

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

**AmoCRM ‚Üí n8n ‚Üí Supabase:**
```javascript
// Workflow –≤ n8n –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –Ω–æ–≤—ã—Ö —Å–¥–µ–ª–æ–∫
{
  "nodes": [
    {
      "name": "AmoCRM Trigger",
      "type": "webhook", 
      "webhookUrl": "amocrm/leads/created"
    },
    {
      "name": "Transform Data",
      "type": "function",
      "code": "// –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö AmoCRM –≤ —Ñ–æ—Ä–º–∞—Ç Supabase"
    },
    {
      "name": "Supabase Insert", 
      "type": "supabase",
      "operation": "insert",
      "table": "deals"
    }
  ]
}
```

**–¢–∏–ø—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:**

1. **–ù–æ–≤—ã–µ —Å–¥–µ–ª–∫–∏** ‚Üí —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤
2. **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤** ‚Üí –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
3. **–ò–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤** ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π
4. **–ë–∏–ª–µ—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** ‚Üí –¥–∞–Ω–Ω—ã–µ –æ –ø—Ä–∏–±—ã—Ç–∏–∏/–æ—Ç—ä–µ–∑–¥–µ

### –°—Épr–∞base Edge Functions

–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö:

```typescript
// supabase/functions/process-amocrm-data/index.ts
export const corsHeaders = {
  'Access-Control-Allow-Origin': '*',
  'Access-Control-Allow-Headers': 'apikey, X-Client-Info, Content-Type, Authorization, Accept, Accept-Language, X-Authorization',
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Ç n8n
Deno.serve(async (req) => {
  const { type, data } = await req.json()
  
  switch(type) {
    case 'new_deal':
      // –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∑–∞–ø–∏—Å–∏ –ø–∞—Ü–∏–µ–Ω—Ç–∞
      break
    case 'update_contact':
      // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
      break
    case 'sync_tickets':
      // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –±–∏–ª–µ—Ç–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
      break
  }
})
```

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### Row Level Security (RLS)

–ü–æ–ª–∏—Ç–∏–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

```sql
-- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä—ã –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ—é –∫–ª–∏–Ω–∏–∫—É
CREATE POLICY "coordinators_own_clinic" ON deals
FOR SELECT USING (
  clinic_name = (
    SELECT clinic_name FROM user_profiles 
    WHERE user_id = auth.uid()
  )
);

-- –î–∏—Ä–µ–∫—Ç–æ—Ä–∞ –≤–∏–¥—è—Ç –≤—Å–µ –∫–ª–∏–Ω–∏–∫–∏
CREATE POLICY "directors_all_clinics" ON deals
FOR SELECT USING (
  EXISTS (
    SELECT 1 FROM user_profiles 
    WHERE user_id = auth.uid() 
    AND role IN ('director', 'super_admin')
  )
);
```

### –ê—É–¥–∏—Ç –æ–ø–µ—Ä–∞—Ü–∏–π

–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è:

```sql
-- –¢–∞–±–ª–∏—Ü–∞ –∞—É–¥–∏—Ç–∞
CREATE TABLE audit_log (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  table_name TEXT NOT NULL,
  record_id UUID,
  action TEXT NOT NULL, -- INSERT, UPDATE, DELETE
  changed_by UUID REFERENCES auth.users(id),
  hospital_id UUID,
  sync_source TEXT DEFAULT 'web', -- web, amocrm, system
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Å—Ç—Ä–µ—á –≤ –¥–µ–Ω—å** –ø–æ –∫–∞–∂–¥–æ–π –±–æ–ª—å–Ω–∏—Ü–µ
- **–í—Ä–µ–º—è –ø—Ä–µ–±—ã–≤–∞–Ω–∏—è –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤** –≤ —Å—Ä–µ–¥–Ω–µ–º
- **–ó–∞–≥—Ä—É–∂–µ–Ω–Ω–æ—Å—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–æ–≤** 
- **–°—Ä–æ–∫–∏ –∏—Å—Ç–µ—á–µ–Ω–∏—è –≤–∏–∑** (–∞–ª–µ—Ä—Ç—ã)

### Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

```typescript
// –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
const subscription = supabase
  .channel('meeting-guests-changes')
  .on('postgres_changes', 
    { event: '*', schema: 'public', table: 'tickets_to_china' }, 
    (payload) => {
      // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
    }
  )
  .subscribe()
```

## ü§ù –£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

### –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

1. **AI-First –ø–æ–¥—Ö–æ–¥** - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CURSOR AI –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–æ–¥–∞
2. **Mobile-first** - –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –º–æ–±–∏–ª—å–Ω—ã–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º
3. **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - —Å—Ç—Ä–æ–≥–∞—è TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è  
4. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥** - –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
5. **Real-time –ø–µ—Ä–≤—ã–º** - –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

### –†–∞–±–æ—Ç–∞ –≤ CURSOR

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:**
   - –§–∞–π–ª `.cursorrules` –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞
   - AI –ø–æ–Ω–∏–º–∞–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É AmoCRM ‚Üî n8n ‚Üî Supabase
   - –ö–æ–Ω—Ç–µ–∫—Å—Ç –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–≥–æ —Ç—É—Ä–∏–∑–º–∞

2. **AI-assisted —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞:**
   ```bash
   # –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Ctrl+K –¥–ª—è AI –∫–æ–º–∞–Ω–¥
   "–°–æ–∑–¥–∞–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç PatientCard —Å –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ Supabase"
   "–î–æ–±–∞–≤—å –≤–∞–ª–∏–¥–∞—Ü–∏—é —Ñ–æ—Ä–º—ã —Å react-hook-form"  
   "–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π –∑–∞–ø—Ä–æ—Å –∫ –ë–î –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã –≤—Å—Ç—Ä–µ—á"
   ```

3. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**
   - AI –ø–æ–º–æ–≥–∞–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ TypeScript
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

- **CURSOR IDE** - AI-powered —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å GitHub Copilot
- **Git Bash** - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Beget.ru —á–µ—Ä–µ–∑ SSH  
- **Beget.ru Panel** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ö–æ—Å—Ç–∏–Ω–≥–æ–º –∏ –¥–æ–º–µ–Ω–æ–º
- **Supabase CLI** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- **n8n** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ workflows –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- **Figma** - –¥–∏–∑–∞–π–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º:

1. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª—ã –≤ `/docs`
2. **Issues GitHub** - —Å–æ–∑–¥–∞–π—Ç–µ issue —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã
3. **–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π** - –∏–∑—É—á–∏—Ç–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è –∫–∏—Ç–∞–π—Å–∫–∏—Ö –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö —É—á—Ä–µ–∂–¥–µ–Ω–∏–π –∏ –∏—Ö –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤.

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –ê–≤–≥—É—Å—Ç 2025*